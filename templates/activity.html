{% extends "base.html" %}
{% block content %}

<div class="activity-view__container">
    <!-- Title and short description -->
    <div class="row">
        <div class="col-12">
            <h2>{{ activity.title|lower|capitalize }}</h2>
            <p class="activity-view__short-descr">
                {{ activity.shortDescr }}
            </p>
        </div>
    </div>
    <!-- Image and long description -->
    <div class="row">
        <div class="col-lg-6 mb-lg-3">
            <div class="activity-view__image">
                {% if activity.imageExists %}
                    {% set image_name = activity._id %}
                {% else %}
                    {% set image_name = "no_image_yet" %}
                {% endif %}
                <img src="/static/images/activities/{{ image_name }}.jpg" class="card-img-top" alt="{{ activity.title|title }}" title="{{ activity.title|title }}">
            </div>
        </div>
        <div class="col-lg-6 pl-lg-0 mb-3">
            <div class="activity-view__long-descr">
                {{ activity.longDescr }}
            </div>
        </div>
    </div>
    {% if activity.venue %}
        <!-- Show venue information if available-->
        <div class="row">
            <!-- Venue address and map link-->
            <div class="col-lg-6">
                <p class="activity-view__label">Venue information</p>
                <p class="activity-view__address">
                    {{ activity.venue.name|lower|title }}<br>
                    {% for address_line in activity.venue.address.split('\n') %}
                        {{ address_line }}<br>
                    {% endfor %}
                    {{ activity.venue.postcode }}<br>
                    <a class="activity-view__link info" href="https://www.google.com/maps/search/?api=1&query={{ activity.venue.name|lower|title }}" target="_blank" rel="noopener noreferrer">
                    <i aria-hidden="true" class="fas fa-map-marker-alt" title="Venue web address"></i> Show on map</a>
                </p>
            </div>
            <!-- Email and web address -->
            <div class="col-lg-6">
                <p class="activity-view__label">Contact</p>
                <p class="activity-view__link">
                    <a class="info" href="mailto:{{ activity.venue.email }}" target="_blank" rel="noopener noreferrer"><i aria-hidden="true" class="fas fa-at" title="Venue email address"></i> {{ activity.venue.email }}</a>
                </p>
                <p class="activity-view__link">
                    <a class="info" href="{{ activity.venue.website }}" target="_blank" rel="noopener noreferrer">
                    <i aria-hidden="true" class="fas fa-globe" title="Venue web address"></i> {{ activity.venue.website }}</a>
                </p>
            </div>
        </div>
    {% endif %}

    {% if activity.additionalURL %}
        <!-- Show additional URL if available -->
        <div class="row">
            <div class="col-12">
                <p class="activity-view__label">Additional subject information, etc</p>
                <p class="activity-view__link">
                    <a class="info" href="{{ activity.additionalURL }}" target="_blank" rel="noopener noreferrer"><i aria-hidden="true" class="fas fa-info-circle" title="Venue web address"></i> {{ activity.additionalURL }}</a>                    
                </p>
            </div>
        </div>
    {% endif %}
</div>

{% endblock %}